# .devctl.yaml

This is the main config file and is required in each devctl project.

```yaml
# This is where you define all the services. It's an array!
services:
  # try to choose a name that's lowercase and no space
  - name: 'frontend'

    # this defaults to the name when omitted [optional]
    path: 'frontend'

    # the description [optional]
    description: 'Powered by create-react-app'

    # Per-service proxy routing configuration
    # Defines how requests should be routed to this service
    # [optional]
    proxy:
      # Target port where this service is running (inside Docker)
      - port: 3000

        # Protocol to use when proxying to the service
        # Options: http, https
        # [optional, defaults to http]
        protocol: http

        # URL patterns to match for routing to this service
        # Format: {domain}{path} - The proxy uses the Host header for routing
        # When multiple paths could match, the most specific (longest) path wins
        # Add domains to /etc/hosts pointing to 127.0.0.1 for local development
        # Examples:
        #   - localhost               -> Matches http://localhost
        #   - example.com             -> Matches all requests to example.com
        #   - example.com/frontend    -> Matches example.com/frontend/* (more specific)
        #   - api.example.com         -> Matches api.example.com subdomain
        # [required array]
        paths:
          - localhost
          - example.com/frontend
          - dev.example.com

    # This appears at the end to give some guidance to the user
    # Extra indentation changes the color of the text
    # [optional]
    notes: |
      To start the dev server:
          yarn frontend start

# Global proxy configuration - enables the reverse-proxy server
# See docs/https-proxy.md for detailed documentation
# [optional]
proxy:
  # Enable or disable the proxy server
  # [optional]
  enabled: true

  # HTTP port (default: 80 when no SSL, or runs alongside HTTPS when SSL is configured)
  # [optional]
  httpPort: 80

  # HTTPS port (default: 443, only used when SSL certificates are provided)
  # [optional]
  httpsPort: 443

  # SSL configuration for HTTPS support
  # Generate certificates with: mkcert -key-file .devctl/ssl/example.com-key.pem -cert-file .devctl/ssl/example.com.pem example.com "*.example.com"
  # [optional]
  ssl:
    # Path to SSL private key file (relative to project root)
    key: .devctl/ssl/example.com-key.pem
    # Path to SSL certificate file (relative to project root)
    cert: .devctl/ssl/example.com.pem

# The environment configs. It's an array!
environment:
  - name: dev
    description: Run services locally
```
